<FilterSidebar
  @id="filtersidebar"
  @class="c-interface__sidebar c-interface__sidebar--dialog {{if
    @hasFilter
    'is-visible'
  }}"
  {{focus-trap
    isActive=@hasFilter
    shouldSelfFocus=true
    additionalElements=(array "#ember-basic-dropdown-wormhole")
    focusTrapOptions=(hash onDeactivate=@hideFilter)
  }}
>
  <div class="c-interface__sidebar-close-button">
    <div
      class="au-u-flex au-u-flex--end au-u-padding-top-small au-u-padding-left-small au-u-padding-right-small"
    >
      <AuLink
        @route="agenda-items.index"
        @query={{hash begin=null eind=null status=null bestuursorganen=null}}
      >
        Reset filters
      </AuLink>
    </div>
    <AuHr />
  </div>
  <div class="c-interface__sidebar-main">
    <h3 class="au-u-h4 au-u-medium">Verfijn de zoekresultaten</h3>
    <Filters::SelectMultipleFilter
      @id="municipality"
      @label="Kies één of meer besturen"
      @options={{this.governmentList.options}}
      @selected={{this.governmentList.selected}}
      @updateSelected={{this.updateSelectedGovernment}}
      @noMatchesMessage="Geen besturen gevonden"
      @searchField="label"
      @queryParam="gemeentes+provincies"
      @placeholder="Alle besturen"
    />
    <Filters::Address::AdressenSelector @id="address-search" />
    <Filters::SelectFilter
      @id="distance"
      @label="Afstand"
      @options={{this.distanceList.options}}
      @selected={{this.distanceList.selected}}
      @updateSelected={{this.updateDistance}}
      @queryParam="afstand"
      @allowClear={{true}}
      @searchEnabled={{false}}
      @placeholder="Alle afstanden"
      @searchField="label"
    />
    <Filters::SelectMultipleFilter
      @id="theme"
      @label="Kies één of meer thema's"
      @options={{this.themeList.options}}
      @selected={{this.themeList.selected}}
      @updateSelected={{this.updateSelectedThemes}}
      @noMatchesMessage="Geen thema's gevonden"
      @searchField="label"
      @queryParam="thema"
      @placeholder="Alle thema's"
    />
    <Filters::DateRangeFilter
      @startQueryParam="begin"
      @endQueryParam="eind"
      @start={{this.filterService.filters.plannedStartMin}}
      @end={{this.filterService.filters.plannedStartMax}}
      @updateSelected={{this.updateSelectedDateRange}}
      @disabled={{this.itemsService.loadAgendaItems.isRunning}}
    />
    <Filters::SelectRadioButtonFilter
      @id="status"
      @label="Status agendapunten"
      @options={{this.statusOfAgendaItemsOptions}}
      @selected={{this.status}}
      @updateSelected={{this.setStatus}}
      @queryParam="status"
      @allowClear={{true}}
      @searchEnabled={{false}}
      @placeholder="Alle agendapunten"
      @disabled={{this.itemsService.loadAgendaItems.isRunning}}
    />
    <AuHr />
    <section class="c-advanced-filter-holder">
      <Accordion
        @defaultOpen={{this.showAdvancedFilters}}
        @iconOpen="nav-up"
        @iconClosed="nav-down"
        @buttonLabel="GEAVANCEERDE FILTERS"
      >
        <Filters::SelectMultipleCheckboxFilter
          @id="governing-body"
          @label="Bestuursorganen"
          @options={{this.governigBodyOptions}}
          @selected={{this.governingBodyList.selected}}
          @updateSelected={{this.updateSelectedGoverningBodyClassifications}}
          @searchField="label"
          @queryParam="bestuursorganen"
          @disabled={{this.itemsService.loadAgendaItems.isRunning}}
        />

      </Accordion>
    </section>
  </div>
  <div class="c-interface__sidebar-submit-buttons">
    <AuHr />
    <AuButton @skin="primary" @width="block" {{on "click" @hideFilter}}>
      Toon
      {{this.itemsService.total}}
      resultaten
    </AuButton>
  </div>
</FilterSidebar>